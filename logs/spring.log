2022-04-13 15:09:05.105  INFO 20128 --- [restartedMain] c.a.u.UserMicroserviceApplication        : Starting UserMicroserviceApplication using Java 17.0.2 on DESKTOP-6HFQH8D with PID 20128 (C:\Users\Sam\Documents\GitHub\alinefinancial-users-ss\user-microservice\target\classes started by Sam in C:\Users\Sam\Documents\GitHub\alinefinancial-users-ss)
2022-04-13 15:09:05.117  INFO 20128 --- [restartedMain] c.a.u.UserMicroserviceApplication        : The following profiles are active: default
2022-04-13 15:09:05.204  INFO 20128 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-13 15:09:05.204  INFO 20128 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-13 15:09:06.496  INFO 20128 --- [restartedMain] o.s.c.annotation.AutoProxyRegistrar      : AutoProxyRegistrar was imported but no annotations were found having both 'mode' and 'proxyTargetClass' attributes of type AdviceMode and boolean respectively. This means that auto proxy creator registration and configuration may not have occurred as intended, and components may not be proxied as expected. Check to ensure that AutoProxyRegistrar has been @Import'ed on the same class where these annotations are declared; otherwise remove the import of AutoProxyRegistrar altogether.
2022-04-13 15:09:07.043  INFO 20128 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-13 15:09:07.305  INFO 20128 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 253 ms. Found 12 JPA repository interfaces.
2022-04-13 15:09:07.686  INFO 20128 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1194f231-0545-3c8e-b375-6031f07dfb57
2022-04-13 15:09:08.178  INFO 20128 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@69325f09' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-13 15:09:08.195  INFO 20128 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-13 15:09:08.954  INFO 20128 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2022-04-13 15:09:08.971  INFO 20128 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-13 15:09:08.972  INFO 20128 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]
2022-04-13 15:09:09.127  INFO 20128 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-13 15:09:09.127  INFO 20128 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3922 ms
2022-04-13 15:09:09.398  INFO 20128 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-13 15:09:09.749  INFO 20128 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-13 15:09:09.755  INFO 20128 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/alinedb'
2022-04-13 15:09:10.209  WARN 20128 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-13 15:09:10.345  INFO 20128 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-13 15:09:10.405  INFO 20128 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2022-04-13 15:09:10.564  INFO 20128 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-13 15:09:10.712  INFO 20128 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-04-13 15:09:12.215  INFO 20128 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-13 15:09:12.225  INFO 20128 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-13 15:09:13.211  WARN 20128 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-04-13 15:09:16.514  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/v3/api-docs/**'] with []
2022-04-13 15:09:16.515  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2'] with []
2022-04-13 15:09:16.515  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2/**'] with []
2022-04-13 15:09:16.515  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2-console'] with []
2022-04-13 15:09:16.515  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2-console/**'] with []
2022-04-13 15:09:16.515  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/health'] with []
2022-04-13 15:09:16.515  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/swagger-ui/**'] with []
2022-04-13 15:09:16.516  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/swagger-ui.html'] with []
2022-04-13 15:09:16.516  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/webjars/**'] with []
2022-04-13 15:09:16.516  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='**/swagger-resources/**'] with []
2022-04-13 15:09:16.564  INFO 20128 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoint(s) beneath base path '/actuator'
2022-04-13 15:09:16.605  INFO 20128 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42f0736b, org.springframework.security.web.context.SecurityContextPersistenceFilter@bcaab2b, org.springframework.security.web.header.HeaderWriterFilter@1be9dc0, org.springframework.web.filter.CorsFilter@3f24712, org.springframework.security.web.authentication.logout.LogoutFilter@32d30b87, com.aline.core.security.filter.JwtTokenVerifier@65ff29ba, com.aline.core.security.filter.JwtTokenProvider@4f10da25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dbb216e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2cc6c9b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28596f01, org.springframework.security.web.session.SessionManagementFilter@37e11151, org.springframework.security.web.access.ExceptionTranslationFilter@8fab0d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fdac810]
2022-04-13 15:09:17.883  INFO 20128 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-04-13 15:09:17.977  INFO 20128 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2022-04-13 15:09:19.104  INFO 20128 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-04-13 15:09:19.121  INFO 20128 --- [restartedMain] c.a.u.UserMicroserviceApplication        : Started UserMicroserviceApplication in 15.707 seconds (JVM running for 16.568)
2022-04-13 15:09:20.969  INFO 20128 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-13 15:09:20.969  INFO 20128 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-13 15:09:20.971  INFO 20128 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-04-13 15:09:21.058  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [2]
2022-04-13 15:09:21.065  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [2]
2022-04-13 15:09:21.116 ERROR 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.service.UserService.getUserProfileById()
2022-04-13 15:09:21.116 ERROR 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.controller.UserController.getUserProfile()
2022-04-13 15:09:21.118  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.NotFoundException: User does not have a profile.
2022-04-13 15:09:21.124 ERROR 20128 --- [http-nio-8090-exec-2] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.NotFoundException: User does not have a profile.
2022-04-13 15:09:21.141  WARN 20128 --- [http-nio-8090-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.NotFoundException: User does not have a profile.]
2022-04-13 15:09:26.423  INFO 20128 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.core.security.service.SecurityUserService.loadUserByUsername() with arguments[s] = [devsessums1]
2022-04-13 15:09:30.105  INFO 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [2]
2022-04-13 15:09:30.106  INFO 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [2]
2022-04-13 15:09:30.111 ERROR 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.service.UserService.getUserProfileById()
2022-04-13 15:09:30.111 ERROR 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.controller.UserController.getUserProfile()
2022-04-13 15:09:30.111  INFO 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.NotFoundException: User does not have a profile.
2022-04-13 15:09:30.111 ERROR 20128 --- [http-nio-8090-exec-4] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.NotFoundException: User does not have a profile.
2022-04-13 15:09:30.113  WARN 20128 --- [http-nio-8090-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.NotFoundException: User does not have a profile.]
2022-04-13 15:09:33.883  INFO 20128 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [50]
2022-04-13 15:09:33.883  INFO 20128 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [50]
2022-04-13 15:09:33.887 ERROR 20128 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Exception: [50] in com.aline.usermicroservice.service.UserService.getUserProfileById()
2022-04-13 15:09:33.887 ERROR 20128 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Exception: [50] in com.aline.usermicroservice.controller.UserController.getUserProfile()
2022-04-13 15:09:33.887  INFO 20128 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.notfound.UserNotFoundException: User does not exist.
2022-04-13 15:09:33.888 ERROR 20128 --- [http-nio-8090-exec-5] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.notfound.UserNotFoundException: User does not exist.
2022-04-13 15:09:33.889  WARN 20128 --- [http-nio-8090-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.notfound.UserNotFoundException: User does not exist.]
2022-04-13 15:09:38.133  INFO 20128 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [2]
2022-04-13 15:09:38.133  INFO 20128 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [2]
2022-04-13 15:09:38.137 ERROR 20128 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.service.UserService.getUserProfileById()
2022-04-13 15:09:38.138 ERROR 20128 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.controller.UserController.getUserProfile()
2022-04-13 15:09:38.138  INFO 20128 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.NotFoundException: User does not have a profile.
2022-04-13 15:09:38.138 ERROR 20128 --- [http-nio-8090-exec-6] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.NotFoundException: User does not have a profile.
2022-04-13 15:09:38.140  WARN 20128 --- [http-nio-8090-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.NotFoundException: User does not have a profile.]
2022-04-13 15:09:40.702  INFO 20128 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [3]
2022-04-13 15:09:40.703  INFO 20128 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [3]
2022-04-13 15:09:40.717 ERROR 20128 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Exception: [3] in com.aline.usermicroservice.controller.UserController.getUserProfile()
2022-04-13 15:09:40.717  INFO 20128 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleDefaultException() with return = java.lang.IllegalArgumentException: Failed to evaluate expression '@authService.canAccess(returnObject)'
2022-04-13 15:09:40.721 ERROR 20128 --- [http-nio-8090-exec-7] Global Exception Handler                 : java.lang.IllegalArgumentException: Failed to evaluate expression '@authService.canAccess(returnObject)'
2022-04-13 15:09:40.723  WARN 20128 --- [http-nio-8090-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: Failed to evaluate expression '@authService.canAccess(returnObject)']
2022-04-13 15:11:23.242  INFO 20128 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.updateUserProfileById() with arguments[s] = [2, UserProfileUpdate(username=devsessums, email=samuel.sessums@smoothstack.com, lastName=sessums, phone=123-456-7891, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:11:23.254 ERROR 20128 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Exception: [2, UserProfileUpdate(username=devsessums, email=samuel.sessums@smoothstack.com, lastName=sessums, phone=123-456-7891, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)] in com.aline.usermicroservice.controller.UserController.updateUserProfileById()
2022-04-13 15:11:23.255  INFO 20128 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:11:23.255 ERROR 20128 --- [http-nio-8090-exec-9] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:11:23.256  WARN 20128 --- [http-nio-8090-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:11:30.601  INFO 20128 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserById() with arguments[s] = [3]
2022-04-13 15:11:30.602  INFO 20128 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserById() with arguments[s] = [3]
2022-04-13 15:11:30.662 ERROR 20128 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Exception: [3] in com.aline.usermicroservice.controller.UserController.getUserById()
2022-04-13 15:11:30.663  INFO 20128 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:11:30.663 ERROR 20128 --- [http-nio-8090-exec-10] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:11:30.664  WARN 20128 --- [http-nio-8090-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:11:33.308  INFO 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserById() with arguments[s] = [5]
2022-04-13 15:11:33.309  INFO 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserById() with arguments[s] = [5]
2022-04-13 15:11:33.313 ERROR 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [5] in com.aline.usermicroservice.service.UserService.getUserById()
2022-04-13 15:11:33.313 ERROR 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [5] in com.aline.usermicroservice.controller.UserController.getUserById()
2022-04-13 15:11:33.314  INFO 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.notfound.UserNotFoundException: User does not exist.
2022-04-13 15:11:33.314 ERROR 20128 --- [http-nio-8090-exec-1] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.notfound.UserNotFoundException: User does not exist.
2022-04-13 15:11:33.316  WARN 20128 --- [http-nio-8090-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.notfound.UserNotFoundException: User does not exist.]
2022-04-13 15:11:35.256  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserById() with arguments[s] = [2]
2022-04-13 15:11:35.256  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserById() with arguments[s] = [2]
2022-04-13 15:11:35.263 ERROR 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.controller.UserController.getUserById()
2022-04-13 15:11:35.264  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:11:35.264 ERROR 20128 --- [http-nio-8090-exec-2] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:11:35.265  WARN 20128 --- [http-nio-8090-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:11:37.055  INFO 20128 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserById() with arguments[s] = [1]
2022-04-13 15:11:37.055  INFO 20128 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserById() with arguments[s] = [1]
2022-04-13 15:11:37.058 ERROR 20128 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Exception: [1] in com.aline.usermicroservice.service.UserService.getUserById()
2022-04-13 15:11:37.059 ERROR 20128 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Exception: [1] in com.aline.usermicroservice.controller.UserController.getUserById()
2022-04-13 15:11:37.059  INFO 20128 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.notfound.UserNotFoundException: User does not exist.
2022-04-13 15:11:37.059 ERROR 20128 --- [http-nio-8090-exec-3] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.notfound.UserNotFoundException: User does not exist.
2022-04-13 15:11:37.061  WARN 20128 --- [http-nio-8090-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.notfound.UserNotFoundException: User does not exist.]
2022-04-13 15:11:39.025  INFO 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserById() with arguments[s] = [3]
2022-04-13 15:11:39.026  INFO 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserById() with arguments[s] = [3]
2022-04-13 15:11:39.031 ERROR 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Exception: [3] in com.aline.usermicroservice.controller.UserController.getUserById()
2022-04-13 15:11:39.032  INFO 20128 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:11:39.032 ERROR 20128 --- [http-nio-8090-exec-4] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:11:39.033  WARN 20128 --- [http-nio-8090-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:11:40.796  INFO 20128 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserById() with arguments[s] = [4]
2022-04-13 15:11:40.797  INFO 20128 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserById() with arguments[s] = [4]
2022-04-13 15:12:12.570  INFO 20128 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson() with arguments[s] = [FirewalledRequest[ org.apache.catalina.connector.RequestFacade@64739e9f], /v3/api-docs]
2022-04-13 15:12:13.079  INFO 20128 --- [http-nio-8090-exec-10] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 499 ms
2022-04-13 15:12:24.646  INFO 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserById() with arguments[s] = [2]
2022-04-13 15:12:24.646  INFO 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserById() with arguments[s] = [2]
2022-04-13 15:12:24.651 ERROR 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [2] in com.aline.usermicroservice.controller.UserController.getUserById()
2022-04-13 15:12:24.652  INFO 20128 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:12:24.652 ERROR 20128 --- [http-nio-8090-exec-1] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:12:24.653  WARN 20128 --- [http-nio-8090-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:12:37.163  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [4]
2022-04-13 15:12:37.164  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [4]
2022-04-13 15:12:37.170 ERROR 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Exception: [4] in com.aline.usermicroservice.controller.UserController.getUserProfile()
2022-04-13 15:12:37.170  INFO 20128 --- [http-nio-8090-exec-2] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleDefaultException() with return = java.lang.IllegalArgumentException: Failed to evaluate expression '@authService.canAccess(returnObject)'
2022-04-13 15:12:37.173 ERROR 20128 --- [http-nio-8090-exec-2] Global Exception Handler                 : java.lang.IllegalArgumentException: Failed to evaluate expression '@authService.canAccess(returnObject)'
2022-04-13 15:12:37.174  WARN 20128 --- [http-nio-8090-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: Failed to evaluate expression '@authService.canAccess(returnObject)']
2022-04-13 15:13:43.917  INFO 20128 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-13 15:13:43.920  INFO 20128 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-13 15:13:43.926  INFO 20128 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-04-13 15:13:50.783  INFO 20976 --- [restartedMain] c.a.u.UserMicroserviceApplication        : Starting UserMicroserviceApplication using Java 17.0.2 on DESKTOP-6HFQH8D with PID 20976 (C:\Users\Sam\Documents\GitHub\alinefinancial-users-ss\user-microservice\target\classes started by Sam in C:\Users\Sam\Documents\GitHub\alinefinancial-users-ss)
2022-04-13 15:13:50.787  INFO 20976 --- [restartedMain] c.a.u.UserMicroserviceApplication        : The following profiles are active: default
2022-04-13 15:13:50.888  INFO 20976 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-04-13 15:13:50.888  INFO 20976 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-04-13 15:13:52.304  INFO 20976 --- [restartedMain] o.s.c.annotation.AutoProxyRegistrar      : AutoProxyRegistrar was imported but no annotations were found having both 'mode' and 'proxyTargetClass' attributes of type AdviceMode and boolean respectively. This means that auto proxy creator registration and configuration may not have occurred as intended, and components may not be proxied as expected. Check to ensure that AutoProxyRegistrar has been @Import'ed on the same class where these annotations are declared; otherwise remove the import of AutoProxyRegistrar altogether.
2022-04-13 15:13:52.848  INFO 20976 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-04-13 15:13:53.060  INFO 20976 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 202 ms. Found 12 JPA repository interfaces.
2022-04-13 15:13:53.395  INFO 20976 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1194f231-0545-3c8e-b375-6031f07dfb57
2022-04-13 15:13:53.831  INFO 20976 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@405a8f7f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-13 15:13:53.843  INFO 20976 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-04-13 15:13:54.543  INFO 20976 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2022-04-13 15:13:54.557  INFO 20976 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-04-13 15:13:54.558  INFO 20976 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]
2022-04-13 15:13:54.695  INFO 20976 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-04-13 15:13:54.695  INFO 20976 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3806 ms
2022-04-13 15:13:54.937  INFO 20976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-04-13 15:13:55.281  INFO 20976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-04-13 15:13:55.286  INFO 20976 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/alinedb'
2022-04-13 15:13:55.680  WARN 20976 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-04-13 15:13:55.799  INFO 20976 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-04-13 15:13:55.865  INFO 20976 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2022-04-13 15:13:56.030  INFO 20976 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-04-13 15:13:56.185  INFO 20976 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-04-13 15:13:57.572  INFO 20976 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-04-13 15:13:57.582  INFO 20976 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-04-13 15:13:58.459  WARN 20976 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2022-04-13 15:14:01.685  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/v3/api-docs/**'] with []
2022-04-13 15:14:01.686  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2'] with []
2022-04-13 15:14:01.686  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2/**'] with []
2022-04-13 15:14:01.687  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2-console'] with []
2022-04-13 15:14:01.687  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/h2-console/**'] with []
2022-04-13 15:14:01.687  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/health'] with []
2022-04-13 15:14:01.687  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/swagger-ui/**'] with []
2022-04-13 15:14:01.687  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/swagger-ui.html'] with []
2022-04-13 15:14:01.687  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/webjars/**'] with []
2022-04-13 15:14:01.688  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='**/swagger-resources/**'] with []
2022-04-13 15:14:01.748  INFO 20976 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoint(s) beneath base path '/actuator'
2022-04-13 15:14:01.792  INFO 20976 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25165ac6, org.springframework.security.web.context.SecurityContextPersistenceFilter@149c3c47, org.springframework.security.web.header.HeaderWriterFilter@17aa93b0, org.springframework.web.filter.CorsFilter@7210519c, org.springframework.security.web.authentication.logout.LogoutFilter@dec222e, com.aline.core.security.filter.JwtTokenVerifier@345820b5, com.aline.core.security.filter.JwtTokenProvider@3e38a3de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51d4af66, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1752f81c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78856647, org.springframework.security.web.session.SessionManagementFilter@380d4ef2, org.springframework.security.web.access.ExceptionTranslationFilter@30ae5a22, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c75ed6]
2022-04-13 15:14:03.077  INFO 20976 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-04-13 15:14:03.190  INFO 20976 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2022-04-13 15:14:04.331  INFO 20976 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-04-13 15:14:04.350  INFO 20976 --- [restartedMain] c.a.u.UserMicroserviceApplication        : Started UserMicroserviceApplication in 15.261 seconds (JVM running for 16.075)
2022-04-13 15:15:06.133  INFO 20976 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-04-13 15:15:06.134  INFO 20976 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-04-13 15:15:06.135  INFO 20976 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-04-13 15:15:06.227  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [4]
2022-04-13 15:15:06.234  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [4]
2022-04-13 15:15:22.220  INFO 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [4]
2022-04-13 15:15:22.221  INFO 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [4]
2022-04-13 15:15:24.667  INFO 20976 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.updateUserProfileById() with arguments[s] = [2, UserProfileUpdate(username=devsessums, email=samuel.sessums@smoothstack.com, lastName=sessums, phone=123-456-7891, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:15:24.701 ERROR 20976 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Exception: [2, UserProfileUpdate(username=devsessums, email=samuel.sessums@smoothstack.com, lastName=sessums, phone=123-456-7891, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)] in com.aline.usermicroservice.controller.UserController.updateUserProfileById()
2022-04-13 15:15:24.704  INFO 20976 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:15:24.711 ERROR 20976 --- [http-nio-8090-exec-4] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:15:24.714  WARN 20976 --- [http-nio-8090-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:15:27.903  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.updateUserProfileById() with arguments[s] = [4, UserProfileUpdate(username=devsessums, email=samuel.sessums@smoothstack.com, lastName=sessums, phone=123-456-7891, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:15:27.908  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.updateUserProfile() with arguments[s] = [4, UserProfileUpdate(username=devsessums, email=samuel.sessums@smoothstack.com, lastName=sessums, phone=123-456-7891, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:15:27.947  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ApplicantService.saveApplicant() with arguments[s] = [Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothstack.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T14:53:21.369304, createdAt=2022-04-13T11:24:11.296878)]
2022-04-13 15:15:27.969  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.MemberService.saveMember() with arguments[s] = [Member(id=36, branch=Branch(id=1, name=Main Branch, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001, phone=(800) 123-4567, bank=Bank(id=1, routingNumber=123456789, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001)), membershipId=35415302, applicant=Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothstack.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T14:53:21.369304, createdAt=2022-04-13T11:24:11.296878))]
2022-04-13 15:15:28.056  WARN 20976 --- [http-nio-8090-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000
2022-04-13 15:15:28.056 ERROR 20976 --- [http-nio-8090-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry 'samuel.sessums@smoothstack.com' for key 'applicant.UK_6iduje2h6ggdlnmevw2mvolfx'
2022-04-13 15:15:28.061 ERROR 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Exception: [4, UserProfileUpdate(username=devsessums, email=samuel.sessums@smoothstack.com, lastName=sessums, phone=123-456-7891, driversLicense=thisissomelicense, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)] in com.aline.usermicroservice.controller.UserController.updateUserProfileById()
2022-04-13 15:15:28.062  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleDefaultException() with return = org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [applicant.UK_6iduje2h6ggdlnmevw2mvolfx]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-04-13 15:15:28.066 ERROR 20976 --- [http-nio-8090-exec-5] Global Exception Handler                 : org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [applicant.UK_6iduje2h6ggdlnmevw2mvolfx]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2022-04-13 15:15:28.067  WARN 20976 --- [http-nio-8090-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [applicant.UK_6iduje2h6ggdlnmevw2mvolfx]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement]
2022-04-13 15:15:56.722  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.updateUserProfileById() with arguments[s] = [4, UserProfileUpdate(username=devsessums1, email=null, lastName=sessums, phone=123-456-7891, driversLicense=null, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:15:56.729  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.updateUserProfile() with arguments[s] = [4, UserProfileUpdate(username=devsessums1, email=null, lastName=sessums, phone=123-456-7891, driversLicense=null, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:15:56.738  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ApplicantService.saveApplicant() with arguments[s] = [Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothck.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisisalicense3, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T14:53:21.369304, createdAt=2022-04-13T11:24:11.296878)]
2022-04-13 15:15:56.739  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.MemberService.saveMember() with arguments[s] = [Member(id=36, branch=Branch(id=1, name=Main Branch, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001, phone=(800) 123-4567, bank=Bank(id=1, routingNumber=123456789, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001)), membershipId=35415302, applicant=Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothck.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisisalicense3, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T14:53:21.369304, createdAt=2022-04-13T11:24:11.296878))]
2022-04-13 15:16:03.716  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)]
2022-04-13 15:16:03.718  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)]
2022-04-13 15:16:03.730 ERROR 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)] in com.aline.usermicroservice.service.ResetPasswordService.resetPassword()
2022-04-13 15:16:03.732 ERROR 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)] in com.aline.usermicroservice.controller.UserController.resetPassword()
2022-04-13 15:16:03.732  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleDefaultException() with return = org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
2022-04-13 15:16:03.736 ERROR 20976 --- [http-nio-8090-exec-8] Global Exception Handler                 : org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
2022-04-13 15:16:03.737  WARN 20976 --- [http-nio-8090-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2]
2022-04-13 15:30:20.893  INFO 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)]
2022-04-13 15:30:20.894  INFO 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)]
2022-04-13 15:30:20.899 ERROR 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)] in com.aline.usermicroservice.service.ResetPasswordService.resetPassword()
2022-04-13 15:30:20.900 ERROR 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=881213, username=devsessums, newPassword=Password1!)] in com.aline.usermicroservice.controller.UserController.resetPassword()
2022-04-13 15:30:20.900  INFO 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleDefaultException() with return = org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
2022-04-13 15:30:20.903 ERROR 20976 --- [http-nio-8090-exec-10] Global Exception Handler                 : org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
2022-04-13 15:30:20.904  WARN 20976 --- [http-nio-8090-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2]
2022-04-13 15:30:39.425  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=881213, username=devsessums1, newPassword=Password1!)]
2022-04-13 15:30:39.426  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=881213, username=devsessums1, newPassword=Password1!)]
2022-04-13 15:30:39.439  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.core.repository.OneTimePasscodeRepository.findByUser() with arguments[s] = [User(id=4, username=devsessums1, password=$2a$10$uE8AJoeTP6aucMJz4wM8Oudbu19h/Ku6z1/i9XMZlwxJ9Z2N//aTi, enabled=true)]
2022-04-13 15:30:39.457 ERROR 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=881213, username=devsessums1, newPassword=Password1!)] in com.aline.usermicroservice.service.ResetPasswordService.resetPassword()
2022-04-13 15:30:39.458 ERROR 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=881213, username=devsessums1, newPassword=Password1!)] in com.aline.usermicroservice.controller.UserController.resetPassword()
2022-04-13 15:30:39.459  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.
2022-04-13 15:30:39.459 ERROR 20976 --- [http-nio-8090-exec-1] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.
2022-04-13 15:30:39.461  WARN 20976 --- [http-nio-8090-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.]
2022-04-13 15:30:44.010  INFO 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getCurrentUserProfile() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]]]
2022-04-13 15:30:44.010  INFO 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getCurrentUserProfile() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]]]
2022-04-13 15:30:51.364  INFO 20976 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getAllUsers() with arguments[s] = [Page request [number: 0, size 20, sort: UNSORTED], , Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkZXZzZXNzdW1zMSIsImF1dGhvcml0eSI6Im1lbWJlciIsImlhdCI6MTY0OTg3MjU4MCwiZXhwIjoxNjUxMDgyMTgwfQ.aqjSMtWF3g-HyJegctN_lf3-6FOChCOolpmF1lnQPcE]
2022-04-13 15:30:51.366 ERROR 20976 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Exception: [Page request [number: 0, size 20, sort: UNSORTED], , Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkZXZzZXNzdW1zMSIsImF1dGhvcml0eSI6Im1lbWJlciIsImlhdCI6MTY0OTg3MjU4MCwiZXhwIjoxNjUxMDgyMTgwfQ.aqjSMtWF3g-HyJegctN_lf3-6FOChCOolpmF1lnQPcE] in com.aline.usermicroservice.controller.UserController.getAllUsers()
2022-04-13 15:30:51.366  INFO 20976 --- [http-nio-8090-exec-4] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:30:51.366 ERROR 20976 --- [http-nio-8090-exec-4] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:30:51.368  WARN 20976 --- [http-nio-8090-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:31:00.037  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getUserProfile() with arguments[s] = [4]
2022-04-13 15:31:00.037  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getUserProfileById() with arguments[s] = [4]
2022-04-13 15:31:11.757  INFO 20976 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.updateUserProfileById() with arguments[s] = [4, UserProfileUpdate(username=devsessums1, email=null, lastName=sessums, phone=123-456-7891, driversLicense=null, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:31:11.763  INFO 20976 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.updateUserProfile() with arguments[s] = [4, UserProfileUpdate(username=devsessums1, email=null, lastName=sessums, phone=123-456-7891, driversLicense=null, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:31:11.767  INFO 20976 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ApplicantService.saveApplicant() with arguments[s] = [Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothck.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisisalicense3, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T15:15:56.742500, createdAt=2022-04-13T11:24:11.296878)]
2022-04-13 15:31:11.768  INFO 20976 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.MemberService.saveMember() with arguments[s] = [Member(id=36, branch=Branch(id=1, name=Main Branch, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001, phone=(800) 123-4567, bank=Bank(id=1, routingNumber=123456789, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001)), membershipId=35415302, applicant=Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothck.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisisalicense3, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T15:15:56.742500, createdAt=2022-04-13T11:24:11.296878))]
2022-04-13 15:31:35.112  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getCurrentUserProfile() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]]]
2022-04-13 15:31:35.113  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getCurrentUserProfile() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]]]
2022-04-13 15:32:23.184  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.updateUserProfileById() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]], UserProfileUpdate(username=devsessums1, email=null, lastName=sessums, phone=123-456-7891, driversLicense=null, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:32:23.185  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.updateCurrentUserProfile() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]], UserProfileUpdate(username=devsessums1, email=null, lastName=sessums, phone=123-456-7891, driversLicense=null, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345)]
2022-04-13 15:32:23.192  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ApplicantService.saveApplicant() with arguments[s] = [Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothck.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisisalicense3, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T15:15:56.742500, createdAt=2022-04-13T11:24:11.296878)]
2022-04-13 15:32:23.193  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.MemberService.saveMember() with arguments[s] = [Member(id=36, branch=Branch(id=1, name=Main Branch, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001, phone=(800) 123-4567, bank=Bank(id=1, routingNumber=123456789, address=123 Aline Financial St., city=New York, state=New York, zipcode=10001)), membershipId=35415302, applicant=Applicant(id=50, firstName=samuel, middleName=beers, lastName=sessums, dateOfBirth=1993-03-17, gender=FEMALE, email=samuel.sessums@smoothck.com, phone=123-456-7891, socialSecurity=123-56-6653, driversLicense=thisisalicense3, income=10000000, address=1234 NW Fake ST, city=FakeCity, state=FakeState, zipcode=12345, mailingAddress=1234 NW Fake ST, mailingCity=FakeCity, mailingState=FakeState, mailingZipcode=12345, lastModifiedAt=2022-04-13T15:15:56.742500, createdAt=2022-04-13T11:24:11.296878))]
2022-04-13 15:32:41.897  INFO 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.disableUserProfileById() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]], true]
2022-04-13 15:32:41.899  INFO 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.disableCurrentUserProfile() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]], true]
2022-04-13 15:32:55.500  INFO 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getAvatar() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]]]
2022-04-13 15:32:55.501  INFO 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.getCurrentUser() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]]]
2022-04-13 15:32:55.511  INFO 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.AvatarService.getAvatar() with arguments[s] = [4]
2022-04-13 15:32:55.530 ERROR 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Exception: [4] in com.aline.usermicroservice.service.AvatarService.getAvatar()
2022-04-13 15:32:55.530 ERROR 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Exception: [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]]] in com.aline.usermicroservice.controller.UserController.getAvatar()
2022-04-13 15:32:55.531  INFO 20976 --- [http-nio-8090-exec-10] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleDefaultException() with return = java.util.NoSuchElementException: No value present
2022-04-13 15:32:55.532 ERROR 20976 --- [http-nio-8090-exec-10] Global Exception Handler                 : java.util.NoSuchElementException: No value present
2022-04-13 15:32:55.533  WARN 20976 --- [http-nio-8090-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.util.NoSuchElementException: No value present]
2022-04-13 15:35:32.105  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.createPasswordResetOtp() with arguments[s] = [ResetPasswordAuthentication(username=devsessums1, contactMethod=PHONE)]
2022-04-13 15:35:32.107  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.createResetPasswordRequest() with arguments[s] = [ResetPasswordAuthentication(username=devsessums1, contactMethod=PHONE), com.aline.usermicroservice.controller.UserController$$Lambda$1499/0x000000080176ea30@506db46]
2022-04-13 15:35:32.107  INFO 20976 --- [http-nio-8090-exec-1] Reset Password Service                   : Finding user with username devsessums1
2022-04-13 15:35:32.111  INFO 20976 --- [http-nio-8090-exec-1] Reset Password Service                   : Delete OTP if user already has one.
2022-04-13 15:35:32.112  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.core.repository.OneTimePasscodeRepository.deleteByUserId() with arguments[s] = [4]
2022-04-13 15:35:32.120  INFO 20976 --- [http-nio-8090-exec-1] Reset Password Service                   : Handling OTP before it is hashed...
2022-04-13 15:35:32.121  INFO 20976 --- [http-nio-8090-exec-1] User Controller                          : Contact Method: PHONE
2022-04-13 15:35:32.122  INFO 20976 --- [http-nio-8090-exec-1] User Controller                          : Send password reset message to devsessums1. OTP is 451168
2022-04-13 15:35:32.122  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.sendOTPMessage() with arguments[s] = [451168, User(id=4, username=devsessums1, password=$2a$10$uE8AJoeTP6aucMJz4wM8Oudbu19h/Ku6z1/i9XMZlwxJ9Z2N//aTi, enabled=false)]
2022-04-13 15:35:32.123  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Enter: com.aline.core.aws.sms.SMSService.sendSMSMessage() with arguments[s] = [123-456-7891, Here is your password reset one-time passcode: 451168, TRANSACTIONAL]
2022-04-13 15:35:32.749 ERROR 20976 --- [http-nio-8090-exec-1] SMS Service                              : Something went wrong with sending your SMS message.
2022-04-13 15:35:32.750 ERROR 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [123-456-7891, Here is your password reset one-time passcode: 451168, TRANSACTIONAL] in com.aline.core.aws.sms.SMSService.sendSMSMessage()
2022-04-13 15:35:32.751 ERROR 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [451168, User(id=4, username=devsessums1, password=$2a$10$uE8AJoeTP6aucMJz4wM8Oudbu19h/Ku6z1/i9XMZlwxJ9Z2N//aTi, enabled=false)] in com.aline.usermicroservice.service.ResetPasswordService.sendOTPMessage()
2022-04-13 15:35:32.751 ERROR 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordAuthentication(username=devsessums1, contactMethod=PHONE), com.aline.usermicroservice.controller.UserController$$Lambda$1499/0x000000080176ea30@506db46] in com.aline.usermicroservice.service.ResetPasswordService.createResetPasswordRequest()
2022-04-13 15:35:32.752 ERROR 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordAuthentication(username=devsessums1, contactMethod=PHONE)] in com.aline.usermicroservice.controller.UserController.createPasswordResetOtp()
2022-04-13 15:35:32.752  INFO 20976 --- [http-nio-8090-exec-1] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotCreatedException() with return = com.aline.core.exception.UnprocessableException: Something went wrong with sending an SMS message.
2022-04-13 15:35:32.752 ERROR 20976 --- [http-nio-8090-exec-1] Global Exception Handler                 : 422 Unprocessable Entity: com.aline.core.exception.UnprocessableException: Something went wrong with sending an SMS message.
2022-04-13 15:35:32.754  WARN 20976 --- [http-nio-8090-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.UnprocessableException: Something went wrong with sending an SMS message.]
2022-04-13 15:36:07.614  INFO 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=451168, username=devsessums, newPassword=Password1!)]
2022-04-13 15:36:07.615  INFO 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=451168, username=devsessums, newPassword=Password1!)]
2022-04-13 15:36:07.622 ERROR 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=451168, username=devsessums, newPassword=Password1!)] in com.aline.usermicroservice.service.ResetPasswordService.resetPassword()
2022-04-13 15:36:07.623 ERROR 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=451168, username=devsessums, newPassword=Password1!)] in com.aline.usermicroservice.controller.UserController.resetPassword()
2022-04-13 15:36:07.623  INFO 20976 --- [http-nio-8090-exec-3] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleDefaultException() with return = org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
2022-04-13 15:36:07.624 ERROR 20976 --- [http-nio-8090-exec-3] Global Exception Handler                 : org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
2022-04-13 15:36:07.625  WARN 20976 --- [http-nio-8090-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2]
2022-04-13 15:36:19.574  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)]
2022-04-13 15:36:19.576  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)]
2022-04-13 15:36:19.579  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Enter: com.aline.core.repository.OneTimePasscodeRepository.findByUser() with arguments[s] = [User(id=4, username=devsessums1, password=$2a$10$uE8AJoeTP6aucMJz4wM8Oudbu19h/Ku6z1/i9XMZlwxJ9Z2N//aTi, enabled=false)]
2022-04-13 15:36:19.587 ERROR 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)] in com.aline.usermicroservice.service.ResetPasswordService.resetPassword()
2022-04-13 15:36:19.589 ERROR 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)] in com.aline.usermicroservice.controller.UserController.resetPassword()
2022-04-13 15:36:19.589  INFO 20976 --- [http-nio-8090-exec-5] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.
2022-04-13 15:36:19.589 ERROR 20976 --- [http-nio-8090-exec-5] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.
2022-04-13 15:36:19.590  WARN 20976 --- [http-nio-8090-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.]
2022-04-13 15:36:44.309  INFO 20976 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.disableUserProfileById() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]], true]
2022-04-13 15:36:44.310  INFO 20976 --- [http-nio-8090-exec-7] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.UserService.disableCurrentUserProfile() with arguments[s] = [UserAuthToken [Principal=devsessums1, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[member]], true]
2022-04-13 15:37:04.873  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.authenticateOtp() with arguments[s] = [OtpAuthentication(username=devsessums1, otp=451168)]
2022-04-13 15:37:04.874  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.verifyOtp() with arguments[s] = [451168, devsessums1]
2022-04-13 15:37:04.874  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Enter: com.aline.core.repository.OneTimePasscodeRepository.findByUserUsername() with arguments[s] = [devsessums1]
2022-04-13 15:37:04.884 ERROR 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Exception: [451168, devsessums1] in com.aline.usermicroservice.service.ResetPasswordService.verifyOtp()
2022-04-13 15:37:04.885 ERROR 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Exception: [OtpAuthentication(username=devsessums1, otp=451168)] in com.aline.usermicroservice.controller.UserController.authenticateOtp()
2022-04-13 15:37:04.885  INFO 20976 --- [http-nio-8090-exec-6] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleUnauthorizedException() with return = com.aline.core.exception.unauthorized.IncorrectOTPException: One-time passcode is not correct.
2022-04-13 15:37:04.885 ERROR 20976 --- [http-nio-8090-exec-6] Global Exception Handler                 : 401 Unauthorized: One-time passcode is not correct.
2022-04-13 15:37:04.886  WARN 20976 --- [http-nio-8090-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.unauthorized.IncorrectOTPException: One-time passcode is not correct.]
2022-04-13 15:37:33.758  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.getAllUsers() with arguments[s] = [Page request [number: 0, size 20, sort: UNSORTED], , Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkZXZzZXNzdW1zMSIsImF1dGhvcml0eSI6Im1lbWJlciIsImlhdCI6MTY0OTg3MjU4MCwiZXhwIjoxNjUxMDgyMTgwfQ.aqjSMtWF3g-HyJegctN_lf3-6FOChCOolpmF1lnQPcE]
2022-04-13 15:37:33.758 ERROR 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Exception: [Page request [number: 0, size 20, sort: UNSORTED], , Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkZXZzZXNzdW1zMSIsImF1dGhvcml0eSI6Im1lbWJlciIsImlhdCI6MTY0OTg3MjU4MCwiZXhwIjoxNjUxMDgyMTgwfQ.aqjSMtWF3g-HyJegctN_lf3-6FOChCOolpmF1lnQPcE] in com.aline.usermicroservice.controller.UserController.getAllUsers()
2022-04-13 15:37:33.759  INFO 20976 --- [http-nio-8090-exec-8] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleForbiddenException() with return = org.springframework.security.access.AccessDeniedException: Access is denied
2022-04-13 15:37:33.759 ERROR 20976 --- [http-nio-8090-exec-8] Global Exception Handler                 : 403 Forbidden: Access is denied
2022-04-13 15:37:33.764  WARN 20976 --- [http-nio-8090-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.access.AccessDeniedException: Access is denied]
2022-04-13 15:37:59.112  INFO 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.controller.UserController.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)]
2022-04-13 15:37:59.113  INFO 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Enter: com.aline.usermicroservice.service.ResetPasswordService.resetPassword() with arguments[s] = [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)]
2022-04-13 15:37:59.117  INFO 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Enter: com.aline.core.repository.OneTimePasscodeRepository.findByUser() with arguments[s] = [User(id=4, username=devsessums1, password=$2a$10$uE8AJoeTP6aucMJz4wM8Oudbu19h/Ku6z1/i9XMZlwxJ9Z2N//aTi, enabled=false)]
2022-04-13 15:37:59.119 ERROR 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)] in com.aline.usermicroservice.service.ResetPasswordService.resetPassword()
2022-04-13 15:37:59.120 ERROR 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Exception: [ResetPasswordRequest(otp=451168, username=devsessums1, newPassword=Password1!)] in com.aline.usermicroservice.controller.UserController.resetPassword()
2022-04-13 15:37:59.121  INFO 20976 --- [http-nio-8090-exec-9] c.a.u.advice.ControllerAdvice            : Error at: com.aline.core.exception.GlobalExceptionHandler.handleNotFoundException() with return = com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.
2022-04-13 15:37:59.121 ERROR 20976 --- [http-nio-8090-exec-9] Global Exception Handler                 : 404 Not Found: com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.
2022-04-13 15:37:59.122  WARN 20976 --- [http-nio-8090-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.aline.core.exception.notfound.TokenNotFoundException: Token is expired or no longer exists.]
2022-04-13 15:41:32.040  INFO 20976 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-04-13 15:41:32.043  INFO 20976 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-04-13 15:41:32.048  INFO 20976 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
